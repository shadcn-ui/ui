{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "combobox-example",
  "type": "registry:example",
  "title": "Combobox",
  "registryDependencies": [
    "avatar",
    "button",
    "command",
    "popover"
  ],
  "files": [
    {
      "path": "registry/radix-default/examples/combobox-example.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport {\n  CheckIcon,\n  ChevronDownIcon,\n  ChevronsUpDown,\n  PlusCircleIcon,\n} from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n} from \"@/registry/bases/radix/ui/avatar\"\nimport { Button } from \"@/registry/bases/radix/ui/button\"\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n  CommandSeparator,\n} from \"@/registry/bases/radix/ui/command\"\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/registry/bases/radix/ui/popover\"\nimport { CanvaFrame } from \"@/app/(design)/design/components/canva\"\n\nconst frameworks = [\n  {\n    value: \"next.js\",\n    label: \"Next.js\",\n  },\n  {\n    value: \"sveltekit\",\n    label: \"SvelteKit\",\n  },\n  {\n    value: \"nuxt.js\",\n    label: \"Nuxt.js\",\n  },\n  {\n    value: \"remix\",\n    label: \"Remix\",\n  },\n  {\n    value: \"astro\",\n    label: \"Astro\",\n  },\n]\n\ntype Framework = (typeof frameworks)[number]\n\nconst users = [\n  {\n    id: \"1\",\n    username: \"shadcn\",\n  },\n  {\n    id: \"2\",\n    username: \"maxleiter\",\n  },\n  {\n    id: \"3\",\n    username: \"evilrabbit\",\n  },\n] as const\n\ntype User = (typeof users)[number]\n\nconst timezones = [\n  {\n    label: \"Americas\",\n    timezones: [\n      { value: \"America/New_York\", label: \"(GMT-5) New York\" },\n      { value: \"America/Los_Angeles\", label: \"(GMT-8) Los Angeles\" },\n      { value: \"America/Chicago\", label: \"(GMT-6) Chicago\" },\n      { value: \"America/Toronto\", label: \"(GMT-5) Toronto\" },\n      { value: \"America/Vancouver\", label: \"(GMT-8) Vancouver\" },\n      { value: \"America/Sao_Paulo\", label: \"(GMT-3) SÃ£o Paulo\" },\n    ],\n  },\n  {\n    label: \"Europe\",\n    timezones: [\n      { value: \"Europe/London\", label: \"(GMT+0) London\" },\n      { value: \"Europe/Paris\", label: \"(GMT+1) Paris\" },\n      { value: \"Europe/Berlin\", label: \"(GMT+1) Berlin\" },\n      { value: \"Europe/Rome\", label: \"(GMT+1) Rome\" },\n      { value: \"Europe/Madrid\", label: \"(GMT+1) Madrid\" },\n      { value: \"Europe/Amsterdam\", label: \"(GMT+1) Amsterdam\" },\n    ],\n  },\n  {\n    label: \"Asia/Pacific\",\n    timezones: [\n      { value: \"Asia/Tokyo\", label: \"(GMT+9) Tokyo\" },\n      { value: \"Asia/Shanghai\", label: \"(GMT+8) Shanghai\" },\n      { value: \"Asia/Singapore\", label: \"(GMT+8) Singapore\" },\n      { value: \"Asia/Dubai\", label: \"(GMT+4) Dubai\" },\n      { value: \"Australia/Sydney\", label: \"(GMT+11) Sydney\" },\n      { value: \"Asia/Seoul\", label: \"(GMT+9) Seoul\" },\n    ],\n  },\n] as const\n\ntype Timezone = (typeof timezones)[number]\n\nexport default function ComboboxDemo() {\n  return (\n    <CanvaFrame>\n      <div className=\"flex w-full flex-wrap items-start gap-4\">\n        <FrameworkCombobox frameworks={[...frameworks]} />\n        <UserCombobox users={[...users]} selectedUserId={users[0].id} />\n        <TimezoneCombobox\n          timezones={[...timezones]}\n          selectedTimezone={timezones[0].timezones[0]}\n        />\n        <ComboboxWithCheckbox frameworks={[...frameworks]} />\n      </div>\n    </CanvaFrame>\n  )\n}\n\nfunction FrameworkCombobox({ frameworks }: { frameworks: Framework[] }) {\n  const [open, setOpen] = React.useState(false)\n  const [value, setValue] = React.useState(\"\")\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button\n          variant=\"outline\"\n          role=\"combobox\"\n          aria-expanded={open}\n          className=\"w-full justify-between md:max-w-[200px]\"\n        >\n          {value\n            ? frameworks.find((framework) => framework.value === value)?.label\n            : \"Select framework...\"}\n          <ChevronsUpDown className=\"text-muted-foreground\" />\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-(--radix-popover-trigger-width) p-0\">\n        <Command>\n          <CommandInput placeholder=\"Search framework...\" />\n          <CommandList>\n            <CommandEmpty>No framework found.</CommandEmpty>\n            <CommandGroup>\n              {frameworks.map((framework) => (\n                <CommandItem\n                  key={framework.value}\n                  value={framework.value}\n                  onSelect={(currentValue) => {\n                    setValue(currentValue === value ? \"\" : currentValue)\n                    setOpen(false)\n                  }}\n                >\n                  {framework.label}\n                  <CheckIcon\n                    className={cn(\n                      \"ml-auto\",\n                      value === framework.value ? \"opacity-100\" : \"opacity-0\"\n                    )}\n                  />\n                </CommandItem>\n              ))}\n            </CommandGroup>\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  )\n}\n\nfunction UserCombobox({\n  users,\n  selectedUserId,\n}: {\n  users: User[]\n  selectedUserId: string\n}) {\n  const [open, setOpen] = React.useState(false)\n  const [value, setValue] = React.useState(selectedUserId)\n\n  const selectedUser = React.useMemo(\n    () => users.find((user) => user.id === value),\n    [value, users]\n  )\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button\n          variant=\"outline\"\n          role=\"combobox\"\n          aria-expanded={open}\n          className=\"w-full justify-between px-2 md:max-w-[200px]\"\n        >\n          {selectedUser ? (\n            <div className=\"flex items-center gap-2\">\n              <Avatar className=\"size-5\">\n                <AvatarImage\n                  src={`https://github.com/${selectedUser.username}.png`}\n                />\n                <AvatarFallback>{selectedUser.username[0]}</AvatarFallback>\n              </Avatar>\n              {selectedUser.username}\n            </div>\n          ) : (\n            \"Select user...\"\n          )}\n          <ChevronsUpDown className=\"text-muted-foreground\" />\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-(--radix-popover-trigger-width) p-0\">\n        <Command>\n          <CommandInput placeholder=\"Search user...\" />\n          <CommandList>\n            <CommandEmpty>No user found.</CommandEmpty>\n            <CommandGroup>\n              {users.map((user) => (\n                <CommandItem\n                  key={user.id}\n                  value={user.id}\n                  onSelect={(currentValue) => {\n                    setValue(currentValue === value ? \"\" : currentValue)\n                    setOpen(false)\n                  }}\n                >\n                  <Avatar className=\"size-5\">\n                    <AvatarImage\n                      src={`https://github.com/${user.username}.png`}\n                    />\n                    <AvatarFallback>{user.username[0]}</AvatarFallback>\n                  </Avatar>\n                  {user.username}\n                  <CheckIcon\n                    className={cn(\n                      \"ml-auto\",\n                      value === user.id ? \"opacity-100\" : \"opacity-0\"\n                    )}\n                  />\n                </CommandItem>\n              ))}\n            </CommandGroup>\n            <CommandSeparator />\n            <CommandGroup>\n              <CommandItem>\n                <PlusCircleIcon />\n                Create user\n              </CommandItem>\n            </CommandGroup>\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  )\n}\n\nfunction TimezoneCombobox({\n  timezones,\n  selectedTimezone,\n}: {\n  timezones: Timezone[]\n  selectedTimezone: Timezone[\"timezones\"][number]\n}) {\n  const [open, setOpen] = React.useState(false)\n  const [value, setValue] = React.useState(selectedTimezone.value)\n\n  const selectedGroup = React.useMemo(\n    () =>\n      timezones.find((group) =>\n        group.timezones.find((tz) => tz.value === value)\n      ),\n    [value, timezones]\n  )\n\n  const selectedTimezoneLabel = React.useMemo(\n    () => selectedGroup?.timezones.find((tz) => tz.value === value)?.label,\n    [value, selectedGroup]\n  )\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button\n          variant=\"outline\"\n          className=\"h-12 w-full justify-between px-2.5 md:max-w-[200px]\"\n        >\n          {selectedTimezone ? (\n            <div className=\"flex flex-col items-start gap-0.5\">\n              <span className=\"text-muted-foreground text-xs font-normal\">\n                {selectedGroup?.label}\n              </span>\n              <span>{selectedTimezoneLabel}</span>\n            </div>\n          ) : (\n            \"Select timezone\"\n          )}\n          <ChevronDownIcon className=\"text-muted-foreground\" />\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className=\"p-0\" align=\"start\">\n        <Command>\n          <CommandInput placeholder=\"Search timezone...\" />\n          <CommandList className=\"scroll-pb-12\">\n            <CommandEmpty>No timezone found.</CommandEmpty>\n            {timezones.map((region) => (\n              <CommandGroup key={region.label} heading={region.label}>\n                {region.timezones.map((timezone) => (\n                  <CommandItem\n                    key={timezone.value}\n                    value={timezone.value}\n                    onSelect={(currentValue) => {\n                      setValue(\n                        currentValue as Timezone[\"timezones\"][number][\"value\"]\n                      )\n                      setOpen(false)\n                    }}\n                  >\n                    {timezone.label}\n                    <CheckIcon\n                      className=\"ml-auto opacity-0 data-[selected=true]:opacity-100\"\n                      data-selected={value === timezone.value}\n                    />\n                  </CommandItem>\n                ))}\n              </CommandGroup>\n            ))}\n            <CommandSeparator className=\"sticky bottom-10\" />\n            <CommandGroup className=\"bg-popover sticky bottom-0\">\n              <CommandItem>\n                <PlusCircleIcon />\n                Create timezone\n              </CommandItem>\n            </CommandGroup>\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  )\n}\n\nfunction ComboboxWithCheckbox({ frameworks }: { frameworks: Framework[] }) {\n  const [open, setOpen] = React.useState(false)\n  const [selectedFrameworks, setSelectedFrameworks] = React.useState<\n    Framework[]\n  >([])\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button\n          variant=\"outline\"\n          role=\"combobox\"\n          aria-expanded={open}\n          className=\"w-fit min-w-[280px] justify-between\"\n        >\n          {selectedFrameworks.length > 0\n            ? selectedFrameworks.map((framework) => framework.label).join(\", \")\n            : \"Select frameworks (multi-select)...\"}\n          <ChevronsUpDown className=\"text-muted-foreground\" />\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-[300px] p-0\" align=\"start\">\n        <Command>\n          <CommandInput placeholder=\"Search framework...\" />\n          <CommandList>\n            <CommandEmpty>No framework found.</CommandEmpty>\n            <CommandGroup>\n              {frameworks.map((framework) => (\n                <CommandItem\n                  key={framework.value}\n                  value={framework.value}\n                  onSelect={(currentValue) => {\n                    setSelectedFrameworks(\n                      selectedFrameworks.some((f) => f.value === currentValue)\n                        ? selectedFrameworks.filter(\n                            (f) => f.value !== currentValue\n                          )\n                        : [...selectedFrameworks, framework]\n                    )\n                  }}\n                >\n                  <div\n                    className=\"border-input data-[selected=true]:border-primary data-[selected=true]:bg-primary data-[selected=true]:text-primary-foreground pointer-events-none size-4 shrink-0 rounded-[4px] border transition-all select-none *:[svg]:opacity-0 data-[selected=true]:*:[svg]:opacity-100\"\n                    data-selected={selectedFrameworks.some(\n                      (f) => f.value === framework.value\n                    )}\n                  >\n                    <CheckIcon className=\"size-3.5 text-current\" />\n                  </div>\n                  {framework.label}\n                </CommandItem>\n              ))}\n            </CommandGroup>\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  )\n}\n",
      "type": "registry:example"
    }
  ]
}