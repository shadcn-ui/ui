{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "stepper",
  "files": [
    {
      "path": "registry/base-lyra/ui/stepper.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { CheckIcon } from \"lucide-react\"\n\nimport { cn } from \"@/registry/bases/base/lib/utils\"\n\ntype StepStatus = \"pending\" | \"active\" | \"completed\" | \"error\"\n\ninterface StepperContextValue {\n  currentStep: number\n  orientation: \"horizontal\" | \"vertical\"\n  onStepChange?: (step: number) => void\n  totalSteps: number\n}\n\nconst StepperContext = React.createContext<StepperContextValue | undefined>(\n  undefined\n)\n\nfunction useStepper() {\n  const context = React.useContext(StepperContext)\n  if (!context) {\n    throw new Error(\"Stepper components must be used within <Stepper>\")\n  }\n  return context\n}\n\ninterface StepperProps extends React.ComponentProps<\"div\"> {\n  currentStep?: number\n  orientation?: \"horizontal\" | \"vertical\"\n  onStepChange?: (step: number) => void\n}\n\nfunction Stepper({\n  className,\n  currentStep = 0,\n  orientation = \"horizontal\",\n  onStepChange,\n  children,\n  ...props\n}: StepperProps) {\n  const totalSteps = React.Children.count(children)\n\n  return (\n    <div\n      data-slot=\"stepper\"\n      data-orientation={orientation}\n      className={cn(\n        \"flex\",\n        orientation === \"horizontal\"\n          ? \"flex-row items-start gap-2\"\n          : \"flex-col items-stretch gap-0\",\n        className\n      )}\n      {...props}\n    >\n      <StepperContext.Provider\n        value={{\n          currentStep,\n          orientation,\n          onStepChange,\n          totalSteps,\n        }}\n      >\n        {children}\n      </StepperContext.Provider>\n    </div>\n  )\n}\n\ninterface StepContextValue {\n  color?: string\n  computedStatus: StepStatus\n}\n\nconst StepContext = React.createContext<StepContextValue | undefined>(undefined)\n\nfunction useStep() {\n  return React.useContext(StepContext)\n}\n\ninterface StepProps extends React.ComponentProps<\"div\"> {\n  step: number\n  status?: StepStatus\n  disabled?: boolean\n  clickable?: boolean\n  color?: string\n}\n\nfunction Step({\n  className,\n  step,\n  status,\n  disabled = false,\n  clickable = true,\n  color,\n  children,\n  ...props\n}: StepProps) {\n  const { currentStep, orientation, onStepChange, totalSteps } = useStepper()\n\n  const computedStatus: StepStatus =\n    status ||\n    (step < currentStep\n      ? \"completed\"\n      : step === currentStep\n        ? \"active\"\n        : \"pending\")\n\n  const isLast = step === totalSteps - 1\n\n  // Extract custom StepIndicator from children if present\n  let customIndicator: React.ReactNode = null\n  const otherChildren: React.ReactNode[] = []\n\n  React.Children.forEach(children, (child) => {\n    if (React.isValidElement(child) && child.type === StepIndicator) {\n      customIndicator = child\n    } else {\n      otherChildren.push(child)\n    }\n  })\n\n  const handleClick = () => {\n    if (clickable && !disabled && onStepChange) {\n      onStepChange(step)\n    }\n  }\n\n  const handleKeyDown = (event: React.KeyboardEvent) => {\n    if (event.key === \"Enter\" || event.key === \" \") {\n      event.preventDefault()\n      handleClick()\n    }\n  }\n\n  return (\n    <StepContext.Provider value={{ color, computedStatus }}>\n      <div\n        data-slot=\"step\"\n        data-status={computedStatus}\n        data-step={step}\n        data-orientation={orientation}\n        className={cn(\n          \"group relative flex\",\n          orientation === \"horizontal\"\n            ? \"flex-1 flex-col items-center gap-2\"\n            : \"min-h-16 flex-row items-start gap-4 pb-2\",\n          clickable && !disabled && \"cursor-pointer\",\n          disabled && \"pointer-events-none opacity-50\",\n          className\n        )}\n        onClick={handleClick}\n        onKeyDown={handleKeyDown}\n        role={clickable && !disabled ? \"button\" : undefined}\n        tabIndex={clickable && !disabled ? 0 : undefined}\n        aria-current={computedStatus === \"active\" ? \"step\" : undefined}\n        {...props}\n      >\n        <div\n          className={cn(\n            \"relative flex items-center justify-center\",\n            orientation === \"horizontal\" ? \"w-full\" : \"flex-col\"\n          )}\n        >\n          {customIndicator || (\n            <StepIndicator status={computedStatus} step={step} />\n          )}\n          {!isLast && orientation === \"horizontal\" && (\n            <StepConnector status={computedStatus} />\n          )}\n        </div>\n        {!isLast && orientation === \"vertical\" && (\n          <StepConnector status={computedStatus} />\n        )}\n        <div\n          className={cn(\n            \"flex flex-col\",\n            orientation === \"horizontal\" ? \"items-center text-center\" : \"pt-0.5\"\n          )}\n        >\n          {otherChildren}\n        </div>\n      </div>\n    </StepContext.Provider>\n  )\n}\n\ninterface StepIndicatorProps extends React.ComponentProps<\"div\"> {\n  status?: StepStatus\n  step?: number\n}\n\nfunction StepIndicator({\n  className,\n  status: statusProp,\n  step = 0,\n  children,\n  style,\n  ...props\n}: StepIndicatorProps) {\n  const stepContext = useStep()\n  const status = statusProp ?? stepContext?.computedStatus ?? \"pending\"\n  const color = stepContext?.color\n\n  const shouldApplyColor =\n    color && (status === \"active\" || status === \"completed\")\n\n  const customStyle = shouldApplyColor\n    ? {\n        backgroundColor: color,\n        borderColor: color,\n        ...style,\n      }\n    : style\n\n  return (\n    <div\n      data-slot=\"step-indicator\"\n      data-status={status}\n      className={cn(\n        \"relative z-10 flex size-8 shrink-0 items-center justify-center rounded-full border-2 text-sm font-semibold transition-colors\",\n        status === \"pending\" &&\n          \"border-muted-foreground/30 bg-background text-muted-foreground\",\n        status === \"active\" &&\n          !color &&\n          \"border-primary bg-primary text-primary-foreground\",\n        status === \"completed\" &&\n          !color &&\n          \"border-primary bg-primary text-primary-foreground\",\n        (status === \"active\" || status === \"completed\") &&\n          color &&\n          \"text-white\",\n        status === \"error\" &&\n          \"border-destructive bg-destructive/10 text-destructive\",\n        className\n      )}\n      style={customStyle}\n      {...props}\n    >\n      {children ||\n        (status === \"completed\" ? (\n          <CheckIcon className=\"size-4\" />\n        ) : (\n          <span>{step + 1}</span>\n        ))}\n    </div>\n  )\n}\n\ninterface StepConnectorProps extends React.ComponentProps<\"div\"> {\n  status: StepStatus\n}\n\nfunction StepConnector({\n  className,\n  status,\n  style,\n  ...props\n}: StepConnectorProps) {\n  const { orientation } = useStepper()\n  const stepContext = useStep()\n  const color = stepContext?.color\n\n  const shouldApplyColor = color && status === \"completed\"\n\n  const customStyle = shouldApplyColor\n    ? { backgroundColor: color, ...style }\n    : style\n\n  return (\n    <div\n      data-slot=\"step-connector\"\n      data-status={status}\n      className={cn(\n        \"transition-colors\",\n        orientation === \"horizontal\"\n          ? \"absolute top-4 right-[calc(-50%+20px)] left-[calc(50%+20px)] h-0.5 -translate-y-1/2\"\n          : \"absolute top-10 left-4 h-[calc(100%-24px)] w-0.5 -translate-x-1/2\",\n        status === \"completed\" && !color && \"bg-primary\",\n        status !== \"completed\" && \"bg-muted-foreground/30\",\n        className\n      )}\n      style={customStyle}\n      {...props}\n    />\n  )\n}\n\ntype StepTitleProps = React.ComponentProps<\"h3\">\n\nfunction StepTitle({ className, ...props }: StepTitleProps) {\n  return (\n    <h3\n      data-slot=\"step-title\"\n      className={cn(\n        \"group-data-[status=active]:text-foreground group-data-[status=completed]:text-foreground group-data-[status=pending]:text-muted-foreground group-data-[status=error]:text-destructive text-sm leading-none font-medium\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\ntype StepDescriptionProps = React.ComponentProps<\"p\">\n\nfunction StepDescription({ className, ...props }: StepDescriptionProps) {\n  return (\n    <p\n      data-slot=\"step-description\"\n      className={cn(\"text-muted-foreground mt-1 text-xs\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Stepper,\n  Step,\n  StepIndicator,\n  StepConnector,\n  StepTitle,\n  StepDescription,\n  useStepper,\n  type StepStatus,\n  type StepperProps,\n  type StepProps,\n}\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}