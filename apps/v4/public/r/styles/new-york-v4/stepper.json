{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "stepper",
  "type": "registry:ui",
  "dependencies": [
    "lucide-react"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/ui/stepper.tsx",
      "content": "\"use client\"\r\n\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\n/* -----------------------------------------------------------------------------\r\n * Stepper Context\r\n * -------------------------------------------------------------------------- */\r\n\r\nexport type StepperOrientation = \"horizontal\" | \"vertical\"\r\n\r\nexport interface StepperContextValue {\r\n  currentStep: number\r\n  orientation: StepperOrientation\r\n  totalSteps: number\r\n}\r\n\r\nconst StepperContext = React.createContext<StepperContextValue | undefined>(\r\n  undefined\r\n)\r\n\r\nexport function useStepperContext() {\r\n  const context = React.useContext(StepperContext)\r\n  if (!context) {\r\n    throw new Error(\"useStepperContext must be used within a Stepper\")\r\n  }\r\n  return context\r\n}\r\n\r\n/* -----------------------------------------------------------------------------\r\n * Stepper Props\r\n * -------------------------------------------------------------------------- */\r\n\r\nexport interface StepperProps extends React.ComponentProps<\"div\"> {\r\n  /** The current active step (0-based index) */\r\n  currentStep: number\r\n  /** The orientation of the stepper */\r\n  orientation?: StepperOrientation\r\n}\r\n\r\n/* -----------------------------------------------------------------------------\r\n * Stepper Component\r\n * -------------------------------------------------------------------------- */\r\n\r\nfunction Stepper({\r\n  currentStep,\r\n  orientation = \"horizontal\",\r\n  className,\r\n  children,\r\n  ...props\r\n}: StepperProps) {\r\n  // Count and clone children with index prop\r\n  const childArray = React.Children.toArray(children)\r\n  const totalSteps = childArray.length\r\n\r\n  const contextValue = React.useMemo(\r\n    () => ({\r\n      currentStep,\r\n      orientation,\r\n      totalSteps,\r\n    }),\r\n    [currentStep, orientation, totalSteps]\r\n  )\r\n\r\n  // Clone children and inject index prop for auto-indexing\r\n  const indexedChildren = childArray.map((child, index) => {\r\n    if (React.isValidElement(child)) {\r\n      return React.cloneElement(child, { index } as React.Attributes)\r\n    }\r\n    return child\r\n  })\r\n\r\n  return (\r\n    <StepperContext.Provider value={contextValue}>\r\n      <div\r\n        data-slot=\"stepper\"\r\n        role=\"list\"\r\n        aria-label=\"Progress steps\"\r\n        data-orientation={orientation}\r\n        className={cn(\r\n          \"flex w-full\",\r\n          orientation === \"horizontal\" && \"flex-row items-start\",\r\n          orientation === \"vertical\" && \"flex-col\",\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        {indexedChildren}\r\n      </div>\r\n    </StepperContext.Provider>\r\n  )\r\n}\r\n\r\nexport { Stepper }\r\n",
      "type": "registry:ui"
    },
    {
      "path": "registry/new-york-v4/ui/stepper-item.tsx",
      "content": "\"use client\"\r\n\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nimport { StepConnector } from \"./step-connector\"\r\nimport { StepIndicator } from \"./step-indicator\"\r\nimport { StepLabel } from \"./step-label\"\r\nimport { useStepperContext } from \"./stepper\"\r\n\r\n/* -----------------------------------------------------------------------------\r\n * StepperItem Props\r\n * -------------------------------------------------------------------------- */\r\n\r\nexport interface StepperItemProps extends React.ComponentProps<\"div\"> {\r\n  /** The step index (0-based). If not provided, it will be auto-assigned. */\r\n  index?: number\r\n  /** Optional title for the step */\r\n  title?: string\r\n  /** Optional description for the step */\r\n  description?: string\r\n  /** Optional custom icon to display in the indicator */\r\n  icon?: React.ReactNode\r\n}\r\n\r\n/* -----------------------------------------------------------------------------\r\n * StepperItem Component\r\n * -------------------------------------------------------------------------- */\r\n\r\nfunction StepperItem({\r\n  index: indexProp,\r\n  title,\r\n  description,\r\n  icon,\r\n  className,\r\n  children,\r\n  ...props\r\n}: StepperItemProps) {\r\n  const { currentStep, orientation, totalSteps } = useStepperContext()\r\n\r\n  // Use provided index or fall back to 0\r\n  const index = indexProp ?? 0\r\n\r\n  // Derive step state from index comparison\r\n  const isCompleted = index < currentStep\r\n  const isActive = index === currentStep\r\n  const isUpcoming = index > currentStep\r\n  const isLastStep = index === totalSteps - 1\r\n\r\n  return (\r\n    <div\r\n      data-slot=\"stepper-item\"\r\n      role=\"listitem\"\r\n      aria-current={isActive ? \"step\" : undefined}\r\n      data-state={isCompleted ? \"completed\" : isActive ? \"active\" : \"upcoming\"}\r\n      data-orientation={orientation}\r\n      className={cn(\r\n        \"group flex\",\r\n        orientation === \"horizontal\" && \"flex-1 items-start\",\r\n        orientation === \"horizontal\" && isLastStep && \"flex-none\",\r\n        orientation === \"vertical\" && \"gap-4\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {orientation === \"horizontal\" ? (\r\n        // Horizontal layout: indicator on top, label below, connector to the right\r\n        <div className=\"flex flex-1 flex-col items-center gap-2\">\r\n          <div className=\"flex w-full items-center\">\r\n            <StepIndicator\r\n              index={index}\r\n              isCompleted={isCompleted}\r\n              isActive={isActive}\r\n              isUpcoming={isUpcoming}\r\n              icon={icon}\r\n              title={title}\r\n            />\r\n            {!isLastStep && (\r\n              <StepConnector isCompleted={isCompleted} orientation={orientation} />\r\n            )}\r\n          </div>\r\n          {(title || description) && (\r\n            <StepLabel\r\n              title={title}\r\n              description={description}\r\n              isActive={isActive}\r\n              isCompleted={isCompleted}\r\n              orientation={orientation}\r\n            />\r\n          )}\r\n        </div>\r\n      ) : (\r\n        // Vertical layout: indicator on left with connector below, label on right\r\n        <>\r\n          <div className=\"flex flex-col items-center\">\r\n            <StepIndicator\r\n              index={index}\r\n              isCompleted={isCompleted}\r\n              isActive={isActive}\r\n              isUpcoming={isUpcoming}\r\n              icon={icon}\r\n              title={title}\r\n            />\r\n            {!isLastStep && (\r\n              <StepConnector isCompleted={isCompleted} orientation={orientation} />\r\n            )}\r\n          </div>\r\n          {(title || description) && (\r\n            <StepLabel\r\n              title={title}\r\n              description={description}\r\n              isActive={isActive}\r\n              isCompleted={isCompleted}\r\n              orientation={orientation}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport { StepperItem }\r\n",
      "type": "registry:ui"
    },
    {
      "path": "registry/new-york-v4/ui/step-indicator.tsx",
      "content": "\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { Check } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\n/* -----------------------------------------------------------------------------\r\n * StepIndicator Props\r\n * -------------------------------------------------------------------------- */\r\n\r\nexport interface StepIndicatorProps extends React.ComponentProps<\"div\"> {\r\n  /** The step index (0-based) */\r\n  index: number\r\n  /** Whether this step is completed */\r\n  isCompleted: boolean\r\n  /** Whether this step is the active step */\r\n  isActive: boolean\r\n  /** Whether this step is upcoming */\r\n  isUpcoming: boolean\r\n  /** Optional custom icon */\r\n  icon?: React.ReactNode\r\n  /** Optional step title for accessibility */\r\n  title?: string\r\n}\r\n\r\n/* -----------------------------------------------------------------------------\r\n * StepIndicator Component\r\n * -------------------------------------------------------------------------- */\r\n\r\nfunction StepIndicator({\r\n  index,\r\n  isCompleted,\r\n  isActive,\r\n  isUpcoming,\r\n  icon,\r\n  title,\r\n  className,\r\n  ...props\r\n}: StepIndicatorProps) {\r\n  return (\r\n    <div\r\n      data-slot=\"step-indicator\"\r\n      data-state={isCompleted ? \"completed\" : isActive ? \"active\" : \"upcoming\"}\r\n      aria-hidden=\"true\"\r\n      className={cn(\r\n        \"relative z-10 flex size-10 shrink-0 items-center justify-center rounded-full border-2 text-sm font-semibold transition-all\",\r\n        isCompleted && \"border-primary bg-primary text-primary-foreground\",\r\n        isActive && \"border-primary bg-primary text-primary-foreground ring-4 ring-primary/20\",\r\n        isUpcoming && \"border-muted bg-background text-muted-foreground\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {icon ? (\r\n        <span className=\"[&>svg]:size-4\">{icon}</span>\r\n      ) : isCompleted ? (\r\n        <Check className=\"size-5\" strokeWidth={3} />\r\n      ) : (\r\n        <span>{index + 1}</span>\r\n      )}\r\n      {title && <span className=\"sr-only\">{title}</span>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport { StepIndicator }\r\n",
      "type": "registry:ui"
    },
    {
      "path": "registry/new-york-v4/ui/step-label.tsx",
      "content": "\"use client\"\r\n\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\n/* -----------------------------------------------------------------------------\r\n * StepLabel Props\r\n * -------------------------------------------------------------------------- */\r\n\r\nexport interface StepLabelProps extends React.ComponentProps<\"div\"> {\r\n  /** The step title */\r\n  title?: string\r\n  /** Optional description */\r\n  description?: string\r\n  /** Whether this step is active */\r\n  isActive: boolean\r\n  /** Whether this step is completed */\r\n  isCompleted: boolean\r\n  /** The orientation of the stepper */\r\n  orientation?: \"horizontal\" | \"vertical\"\r\n}\r\n\r\n/* -----------------------------------------------------------------------------\r\n * StepLabel Component\r\n * -------------------------------------------------------------------------- */\r\n\r\nfunction StepLabel({\r\n  title,\r\n  description,\r\n  isActive,\r\n  isCompleted,\r\n  orientation = \"horizontal\",\r\n  className,\r\n  ...props\r\n}: StepLabelProps) {\r\n  return (\r\n    <div\r\n      data-slot=\"step-label\"\r\n      className={cn(\r\n        \"flex flex-col gap-0.5\",\r\n        orientation === \"horizontal\" && \"items-center text-center\",\r\n        orientation === \"vertical\" && \"items-start pt-1\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {title && (\r\n        <span\r\n          data-slot=\"step-title\"\r\n          className={cn(\r\n            \"text-sm font-medium leading-none\",\r\n            isActive && \"text-foreground\",\r\n            isCompleted && \"text-foreground\",\r\n            !isActive && !isCompleted && \"text-muted-foreground\"\r\n          )}\r\n        >\r\n          {title}\r\n        </span>\r\n      )}\r\n      {description && (\r\n        <span\r\n          data-slot=\"step-description\"\r\n          className=\"mt-1 text-xs text-muted-foreground\"\r\n        >\r\n          {description}\r\n        </span>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport { StepLabel }\r\n",
      "type": "registry:ui"
    },
    {
      "path": "registry/new-york-v4/ui/step-connector.tsx",
      "content": "\"use client\"\r\n\r\nimport * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport { type StepperOrientation } from \"./stepper\"\r\n\r\n/* -----------------------------------------------------------------------------\r\n * StepConnector Props\r\n * -------------------------------------------------------------------------- */\r\n\r\nexport interface StepConnectorProps extends React.ComponentProps<\"div\"> {\r\n  /** Whether the preceding step is completed */\r\n  isCompleted: boolean\r\n  /** The orientation of the stepper */\r\n  orientation: StepperOrientation\r\n}\r\n\r\n/* -----------------------------------------------------------------------------\r\n * StepConnector Component\r\n * -------------------------------------------------------------------------- */\r\n\r\nfunction StepConnector({\r\n  isCompleted,\r\n  orientation,\r\n  className,\r\n  ...props\r\n}: StepConnectorProps) {\r\n  return (\r\n    <div\r\n      data-slot=\"step-connector\"\r\n      data-state={isCompleted ? \"completed\" : \"pending\"}\r\n      data-orientation={orientation}\r\n      aria-hidden=\"true\"\r\n      role=\"presentation\"\r\n      className={cn(\r\n        \"transition-colors\",\r\n        orientation === \"horizontal\" && \"h-0.5 flex-1\",\r\n        orientation === \"vertical\" && \"my-2 h-10 w-0.5\",\r\n        isCompleted ? \"bg-primary\" : \"bg-border\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { StepConnector }\r\n",
      "type": "registry:ui"
    }
  ]
}