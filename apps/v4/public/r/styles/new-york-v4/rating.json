{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "rating",
  "dependencies": [
    "class-variance-authority",
    "lucide-react"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/ui/rating.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { StarIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ratingVariants = cva(\"inline-flex items-center gap-1\", {\n  variants: {\n    size: {\n      sm: \"[&_svg]:size-3\",\n      md: \"[&_svg]:size-4\",\n      lg: \"[&_svg]:size-5\",\n    },\n  },\n  defaultVariants: {\n    size: \"md\",\n  },\n})\n\ntype RatingProps = React.ComponentProps<\"div\"> &\n  VariantProps<typeof ratingVariants> & {\n    value?: number\n    defaultValue?: number\n    max?: number\n    onValueChange?: (value: number) => void\n    readOnly?: boolean\n    disabled?: boolean\n  }\n\nfunction Rating({\n  className,\n  value,\n  defaultValue = 0,\n  max = 5,\n  onValueChange,\n  readOnly = false,\n  disabled = false,\n  size,\n  ...props\n}: RatingProps) {\n  const [internalValue, setInternalValue] = React.useState(defaultValue)\n  const [hoverValue, setHoverValue] = React.useState<number | null>(null)\n  const isControlled = value !== undefined\n  const currentValue = isControlled ? value : internalValue\n  const displayValue = hoverValue ?? currentValue\n\n  function setValue(nextValue: number) {\n    if (readOnly || disabled) {\n      return\n    }\n\n    if (!isControlled) {\n      setInternalValue(nextValue)\n    }\n\n    onValueChange?.(nextValue)\n  }\n\n  function handleKeyDown(event: React.KeyboardEvent<HTMLButtonElement>) {\n    if (readOnly || disabled) {\n      return\n    }\n\n    let nextValue = currentValue || 0\n\n    switch (event.key) {\n      case \"ArrowLeft\":\n      case \"ArrowDown\":\n        nextValue = Math.max(1, currentValue - 1)\n        break\n      case \"ArrowRight\":\n      case \"ArrowUp\":\n        nextValue = Math.min(max, currentValue + 1)\n        break\n      case \"Home\":\n        nextValue = 1\n        break\n      case \"End\":\n        nextValue = max\n        break\n      default:\n        return\n    }\n\n    event.preventDefault()\n    setValue(nextValue)\n  }\n\n  return (\n    <div\n      role=\"radiogroup\"\n      aria-disabled={disabled}\n      data-slot=\"rating\"\n      className={cn(\n        ratingVariants({ size, className }),\n        disabled && \"pointer-events-none opacity-50\"\n      )}\n      {...props}\n    >\n      {Array.from({ length: max }, (_, index) => {\n        const itemValue = index + 1\n        const isActive = displayValue >= itemValue\n        const isChecked = currentValue === itemValue\n        const isTabbable = isChecked || (currentValue === 0 && itemValue === 1)\n\n        return (\n          <button\n            key={itemValue}\n            type=\"button\"\n            role=\"radio\"\n            aria-checked={isChecked}\n            tabIndex={isTabbable ? 0 : -1}\n            data-slot=\"rating-item\"\n            data-state={isActive ? \"on\" : \"off\"}\n            className={cn(\n              \"rounded-sm text-muted-foreground/40 transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/50 focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:pointer-events-none\",\n              isActive && \"text-primary\"\n            )}\n            onClick={() => setValue(itemValue)}\n            onMouseEnter={() => !readOnly && !disabled && setHoverValue(itemValue)}\n            onMouseLeave={() => setHoverValue(null)}\n            onKeyDown={handleKeyDown}\n            disabled={disabled}\n          >\n            <StarIcon className=\"fill-current\" />\n            <span className=\"sr-only\">{`Rate ${itemValue} out of ${max}`}</span>\n          </button>\n        )\n      })}\n    </div>\n  )\n}\n\nexport { Rating }\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}