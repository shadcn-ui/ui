{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "combobox",
  "dependencies": [
    "@base-ui/react"
  ],
  "registryDependencies": [
    "button",
    "input-group"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/ui/combobox.tsx",
      "content": "\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { Combobox as ComboboxPrimitive } from \"@base-ui/react\"\r\nimport { CheckIcon, ChevronDownIcon, XIcon } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport { Button } from \"@/registry/new-york-v4/ui/button\"\r\nimport {\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  InputGroupButton,\r\n  InputGroupInput,\r\n} from \"@/registry/new-york-v4/ui/input-group\"\r\n\r\nconst Combobox = ComboboxPrimitive.Root\r\n\r\nfunction ComboboxValue({ ...props }: ComboboxPrimitive.Value.Props) {\r\n  return <ComboboxPrimitive.Value data-slot=\"combobox-value\" {...props} />\r\n}\r\n\r\nfunction ComboboxTrigger({\r\n  className,\r\n  children,\r\n  ...props\r\n}: ComboboxPrimitive.Trigger.Props) {\r\n  return (\r\n    <ComboboxPrimitive.Trigger\r\n      data-slot=\"combobox-trigger\"\r\n      className={cn(\"[&_svg:not([class*='size-'])]:size-4\", className)}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <ChevronDownIcon\r\n        data-slot=\"combobox-trigger-icon\"\r\n        className=\"text-muted-foreground pointer-events-none size-4\"\r\n      />\r\n    </ComboboxPrimitive.Trigger>\r\n  )\r\n}\r\n\r\nfunction ComboboxClear({ className, ...props }: ComboboxPrimitive.Clear.Props) {\r\n  return (\r\n    <ComboboxPrimitive.Clear\r\n      data-slot=\"combobox-clear\"\r\n      render={<InputGroupButton variant=\"ghost\" size=\"icon-xs\" />}\r\n      className={cn(className)}\r\n      {...props}\r\n    >\r\n      <XIcon className=\"pointer-events-none\" />\r\n    </ComboboxPrimitive.Clear>\r\n  )\r\n}\r\n\r\nfunction ComboboxInput({\r\n  className,\r\n  children,\r\n  disabled = false,\r\n  showTrigger = true,\r\n  showClear = false,\r\n  ...props\r\n}: ComboboxPrimitive.Input.Props & {\r\n  showTrigger?: boolean\r\n  showClear?: boolean\r\n}) {\r\n  return (\r\n    <InputGroup className={cn(\"w-auto\", className)}>\r\n      <ComboboxPrimitive.Input\r\n        render={<InputGroupInput disabled={disabled} />}\r\n        {...props}\r\n      />\r\n      <InputGroupAddon align=\"inline-end\">\r\n        {showTrigger && (\r\n          <InputGroupButton\r\n            size=\"icon-xs\"\r\n            variant=\"ghost\"\r\n            asChild\r\n            data-slot=\"input-group-button\"\r\n            className=\"group-has-data-[slot=combobox-clear]/input-group:hidden data-pressed:bg-transparent\"\r\n            disabled={disabled}\r\n          >\r\n            <ComboboxTrigger />\r\n          </InputGroupButton>\r\n        )}\r\n        {showClear && <ComboboxClear disabled={disabled} />}\r\n      </InputGroupAddon>\r\n      {children}\r\n    </InputGroup>\r\n  )\r\n}\r\n\r\nfunction ComboboxContent({\r\n  className,\r\n  side = \"bottom\",\r\n  sideOffset = 6,\r\n  align = \"start\",\r\n  alignOffset = 0,\r\n  anchor,\r\n  ...props\r\n}: ComboboxPrimitive.Popup.Props &\r\n  Pick<\r\n    ComboboxPrimitive.Positioner.Props,\r\n    \"side\" | \"align\" | \"sideOffset\" | \"alignOffset\" | \"anchor\"\r\n  >) {\r\n  return (\r\n    <ComboboxPrimitive.Portal>\r\n      <ComboboxPrimitive.Positioner\r\n        side={side}\r\n        sideOffset={sideOffset}\r\n        align={align}\r\n        alignOffset={alignOffset}\r\n        anchor={anchor}\r\n        className=\"isolate z-50\"\r\n      >\r\n        <ComboboxPrimitive.Popup\r\n          data-slot=\"combobox-content\"\r\n          data-chips={!!anchor}\r\n          className={cn(\r\n            \"bg-popover text-popover-foreground data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 ring-foreground/10 *:data-[slot=input-group]:bg-input/30 *:data-[slot=input-group]:border-input/30 group/combobox-content relative max-h-96 w-(--anchor-width) max-w-(--available-width) min-w-[calc(var(--anchor-width)+--spacing(7))] origin-(--transform-origin) overflow-hidden rounded-md shadow-md ring-1 duration-100 data-[chips=true]:min-w-(--anchor-width) *:data-[slot=input-group]:m-1 *:data-[slot=input-group]:mb-0 *:data-[slot=input-group]:h-8 *:data-[slot=input-group]:shadow-none\",\r\n            className\r\n          )}\r\n          {...props}\r\n        />\r\n      </ComboboxPrimitive.Positioner>\r\n    </ComboboxPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction ComboboxList({ className, ...props }: ComboboxPrimitive.List.Props) {\r\n  return (\r\n    <ComboboxPrimitive.List\r\n      data-slot=\"combobox-list\"\r\n      className={cn(\r\n        \"max-h-[min(calc(--spacing(96)---spacing(9)),calc(var(--available-height)---spacing(9)))] scroll-py-1 overflow-y-auto p-1 data-empty:p-0\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction ComboboxItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: ComboboxPrimitive.Item.Props) {\r\n  return (\r\n    <ComboboxPrimitive.Item\r\n      data-slot=\"combobox-item\"\r\n      className={cn(\r\n        \"data-highlighted:bg-accent data-highlighted:text-accent-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <ComboboxPrimitive.ItemIndicator\r\n        data-slot=\"combobox-item-indicator\"\r\n        render={\r\n          <span className=\"pointer-events-none absolute right-2 flex size-4 items-center justify-center\" />\r\n        }\r\n      >\r\n        <CheckIcon className=\"pointer-events-none size-4 pointer-coarse:size-5\" />\r\n      </ComboboxPrimitive.ItemIndicator>\r\n    </ComboboxPrimitive.Item>\r\n  )\r\n}\r\n\r\nfunction ComboboxGroup({ className, ...props }: ComboboxPrimitive.Group.Props) {\r\n  return (\r\n    <ComboboxPrimitive.Group\r\n      data-slot=\"combobox-group\"\r\n      className={cn(className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction ComboboxLabel({\r\n  className,\r\n  ...props\r\n}: ComboboxPrimitive.GroupLabel.Props) {\r\n  return (\r\n    <ComboboxPrimitive.GroupLabel\r\n      data-slot=\"combobox-label\"\r\n      className={cn(\r\n        \"text-muted-foreground px-2 py-1.5 text-xs pointer-coarse:px-3 pointer-coarse:py-2 pointer-coarse:text-sm\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction ComboboxCollection({ ...props }: ComboboxPrimitive.Collection.Props) {\r\n  return (\r\n    <ComboboxPrimitive.Collection data-slot=\"combobox-collection\" {...props} />\r\n  )\r\n}\r\n\r\nfunction ComboboxEmpty({ className, ...props }: ComboboxPrimitive.Empty.Props) {\r\n  return (\r\n    <ComboboxPrimitive.Empty\r\n      data-slot=\"combobox-empty\"\r\n      className={cn(\r\n        \"text-muted-foreground hidden w-full justify-center py-2 text-center text-sm group-data-empty/combobox-content:flex\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction ComboboxSeparator({\r\n  className,\r\n  ...props\r\n}: ComboboxPrimitive.Separator.Props) {\r\n  return (\r\n    <ComboboxPrimitive.Separator\r\n      data-slot=\"combobox-separator\"\r\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction ComboboxChips({\r\n  className,\r\n  ...props\r\n}: React.ComponentPropsWithRef<typeof ComboboxPrimitive.Chips> &\r\n  ComboboxPrimitive.Chips.Props) {\r\n  return (\r\n    <ComboboxPrimitive.Chips\r\n      data-slot=\"combobox-chips\"\r\n      className={cn(\r\n        \"dark:bg-input/30 border-input focus-within:border-ring focus-within:ring-ring/50 has-aria-invalid:ring-destructive/20 dark:has-aria-invalid:ring-destructive/40 has-aria-invalid:border-destructive dark:has-aria-invalid:border-destructive/50 flex min-h-9 flex-wrap items-center gap-1.5 rounded-md border bg-transparent bg-clip-padding px-2.5 py-1.5 text-sm shadow-xs transition-[color,box-shadow] focus-within:ring-[3px] has-aria-invalid:ring-[3px] has-data-[slot=combobox-chip]:px-1.5\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction ComboboxChip({\r\n  className,\r\n  children,\r\n  showRemove = true,\r\n  ...props\r\n}: ComboboxPrimitive.Chip.Props & {\r\n  showRemove?: boolean\r\n}) {\r\n  return (\r\n    <ComboboxPrimitive.Chip\r\n      data-slot=\"combobox-chip\"\r\n      className={cn(\r\n        \"bg-muted text-foreground flex h-[calc(--spacing(5.5))] w-fit items-center justify-center gap-1 rounded-sm px-1.5 text-xs font-medium whitespace-nowrap has-disabled:pointer-events-none has-disabled:cursor-not-allowed has-disabled:opacity-50 has-data-[slot=combobox-chip-remove]:pr-0\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      {showRemove && (\r\n        <ComboboxPrimitive.ChipRemove\r\n          render={<Button variant=\"ghost\" size=\"icon-xs\" />}\r\n          className=\"-ml-1 opacity-50 hover:opacity-100\"\r\n          data-slot=\"combobox-chip-remove\"\r\n        >\r\n          <XIcon className=\"pointer-events-none\" />\r\n        </ComboboxPrimitive.ChipRemove>\r\n      )}\r\n    </ComboboxPrimitive.Chip>\r\n  )\r\n}\r\n\r\nfunction ComboboxChipsInput({\r\n  className,\r\n  children,\r\n  ...props\r\n}: ComboboxPrimitive.Input.Props) {\r\n  return (\r\n    <ComboboxPrimitive.Input\r\n      data-slot=\"combobox-chip-input\"\r\n      className={cn(\"min-w-16 flex-1 outline-none\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction useComboboxAnchor() {\r\n  return React.useRef<HTMLDivElement | null>(null)\r\n}\r\n\r\nexport {\r\n  Combobox,\r\n  ComboboxInput,\r\n  ComboboxContent,\r\n  ComboboxList,\r\n  ComboboxItem,\r\n  ComboboxGroup,\r\n  ComboboxLabel,\r\n  ComboboxCollection,\r\n  ComboboxEmpty,\r\n  ComboboxSeparator,\r\n  ComboboxChips,\r\n  ComboboxChip,\r\n  ComboboxChipsInput,\r\n  ComboboxTrigger,\r\n  ComboboxValue,\r\n  useComboboxAnchor,\r\n}\r\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}