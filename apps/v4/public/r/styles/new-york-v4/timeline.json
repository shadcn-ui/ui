{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "timeline",
  "dependencies": [
    "class-variance-authority"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/ui/timeline.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\n// ============================================\n// Context for position and index\n// ============================================\nconst TimelineContext = React.createContext<{\n  position: \"left\" | \"right\" | \"alternate\" | \"center\"\n}>({\n  position: \"left\",\n})\n\nconst TimelineItemContext = React.createContext<{ index: number }>({ index: 0 })\n\n// ============================================\n// 1. Timeline\n// ============================================\nconst timelineVariants = cva(\"flex flex-col\", {\n  variants: {\n    position: {\n      left: \"gap-6\",\n      right: \"gap-6\",\n      alternate: \"gap-0\",\n      center: \"gap-0\",\n    },\n  },\n  defaultVariants: {\n    position: \"left\",\n  },\n})\n\ninterface TimelineProps\n  extends React.ComponentProps<\"ol\">,\n    VariantProps<typeof timelineVariants> {}\n\nconst Timeline = React.forwardRef<HTMLOListElement, TimelineProps>(\n  ({ className, position, children, ...props }, ref) => {\n    const timelinePosition = position ?? \"left\"\n\n    // Wrap children to inject index for each TimelineItem\n    // Non-element children (null, strings, etc.) are passed through unchanged\n    const childrenWithIndex = React.Children.map(children, (child, index) => {\n      if (React.isValidElement(child)) {\n        return (\n          <TimelineItemContext.Provider value={{ index }}>\n            {child}\n          </TimelineItemContext.Provider>\n        )\n      }\n      return child\n    })\n\n    return (\n      <TimelineContext.Provider value={{ position: timelinePosition }}>\n        <ol\n          ref={ref}\n          role=\"list\"\n          data-slot=\"timeline\"\n          data-position={timelinePosition}\n          className={cn(\n            timelineVariants({ position: timelinePosition }),\n            className\n          )}\n          {...props}\n        >\n          {childrenWithIndex}\n        </ol>\n      </TimelineContext.Provider>\n    )\n  }\n)\nTimeline.displayName = \"Timeline\"\n\n// ============================================\n// 2. TimelineItem\n// ============================================\nconst TimelineItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, children, ...props }, ref) => {\n  const { position } = React.useContext(TimelineContext)\n  const { index } = React.useContext(TimelineItemContext)\n\n  // Determine if this item should be on the right side\n  const isRight =\n    position === \"right\" || (position === \"alternate\" && index % 2 === 1)\n\n  // Center mode - special layout with line in the middle\n  if (position === \"center\") {\n    const isEven = index % 2 === 0\n    return (\n      <li\n        ref={ref}\n        role=\"listitem\"\n        data-slot=\"timeline-item\"\n        data-position={isEven ? \"left\" : \"right\"}\n        className={cn(\n          \"relative grid grid-cols-[1fr_auto_1fr] gap-4\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </li>\n    )\n  }\n\n  return (\n    <li\n      ref={ref}\n      role=\"listitem\"\n      data-slot=\"timeline-item\"\n      data-position={isRight ? \"right\" : \"left\"}\n      className={cn(\n        \"relative flex gap-4\",\n        position === \"alternate\" && \"justify-center\",\n        isRight && \"flex-row-reverse\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </li>\n  )\n})\nTimelineItem.displayName = \"TimelineItem\"\n\n// ============================================\n// 3. TimelineMarker\n// ============================================\nconst timelineMarkerVariants = cva(\n  \"relative z-10 flex size-6 shrink-0 items-center justify-center rounded-full border-2\",\n  {\n    variants: {\n      variant: {\n        default: \"border-border bg-background\",\n        primary: \"border-primary bg-primary\",\n        success:\n          \"border-green-500 bg-green-500 dark:border-green-600 dark:bg-green-600\",\n        warning:\n          \"border-yellow-500 bg-yellow-500 dark:border-yellow-600 dark:bg-yellow-600\",\n        destructive:\n          \"border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst variantLabels = {\n  default: \"Event\",\n  primary: \"Important\",\n  success: \"Completed\",\n  warning: \"Warning\",\n  destructive: \"Error\",\n}\n\ninterface TimelineMarkerProps\n  extends React.ComponentProps<\"div\">,\n    VariantProps<typeof timelineMarkerVariants> {\n  icon?: React.ReactNode\n}\n\nconst TimelineMarker = React.forwardRef<HTMLDivElement, TimelineMarkerProps>(\n  ({ className, variant, icon, ...props }, ref) => {\n    const { position } = React.useContext(TimelineContext)\n    const ariaLabel = variantLabels[variant ?? \"default\"]\n\n    return (\n      <div\n        className={cn(\n          \"relative flex flex-col items-center\",\n          position === \"center\" && \"justify-start\"\n        )}\n      >\n        <div\n          ref={ref}\n          data-slot=\"timeline-marker\"\n          className={cn(timelineMarkerVariants({ variant }), className)}\n          aria-label={ariaLabel}\n          role=\"status\"\n          {...props}\n        >\n          {icon ? (\n            <div className=\"flex size-3 items-center justify-center text-current\">\n              {icon}\n            </div>\n          ) : (\n            <div\n              className={cn(\n                \"size-2 rounded-full\",\n                variant === \"default\" ? \"bg-muted-foreground\" : \"bg-current\"\n              )}\n            />\n          )}\n        </div>\n        <div\n          className=\"bg-border absolute top-6 h-full w-px [li:last-child_&]:hidden\"\n          data-slot=\"timeline-line\"\n        />\n      </div>\n    )\n  }\n)\nTimelineMarker.displayName = \"TimelineMarker\"\n\n// ============================================\n// 4. TimelineContent\n// ============================================\nconst TimelineContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  const { position } = React.useContext(TimelineContext)\n  const { index } = React.useContext(TimelineItemContext)\n\n  const isRight =\n    position === \"right\" || (position === \"alternate\" && index % 2 === 1)\n\n  // Center mode uses grid layout\n  if (position === \"center\") {\n    const isEven = index % 2 === 0\n    return (\n      <div\n        ref={ref}\n        data-slot=\"timeline-content\"\n        className={cn(\n          \"flex flex-col gap-1 pb-8\",\n          isEven ? \"text-right\" : \"text-left\",\n          className\n        )}\n        {...props}\n      />\n    )\n  }\n\n  return (\n    <div\n      ref={ref}\n      data-slot=\"timeline-content\"\n      className={cn(\n        \"flex flex-1 flex-col gap-1 pb-6\",\n        position === \"alternate\" && \"w-1/2\",\n        position === \"alternate\" && (isRight ? \"text-right\" : \"text-left\"),\n        className\n      )}\n      {...props}\n    />\n  )\n})\nTimelineContent.displayName = \"TimelineContent\"\n\n// ============================================\n// 5. TimelineSpacer\n// ============================================\nconst TimelineSpacer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-slot=\"timeline-spacer\"\n      className={cn(\"min-w-0 flex-1\", className)}\n      {...props}\n    />\n  )\n})\nTimelineSpacer.displayName = \"TimelineSpacer\"\n\n// ============================================\n// 6. TimelineTitle\n// ============================================\nconst TimelineTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.ComponentProps<\"p\">\n>(({ className, ...props }, ref) => {\n  return (\n    <p\n      ref={ref}\n      data-slot=\"timeline-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n})\nTimelineTitle.displayName = \"TimelineTitle\"\n\n// ============================================\n// 7. TimelineDescription\n// ============================================\nconst TimelineDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.ComponentProps<\"p\">\n>(({ className, ...props }, ref) => {\n  return (\n    <p\n      ref={ref}\n      data-slot=\"timeline-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n})\nTimelineDescription.displayName = \"TimelineDescription\"\n\n// ============================================\n// 8. TimelineTime\n// ============================================\nconst TimelineTime = React.forwardRef<\n  HTMLTimeElement,\n  React.ComponentProps<\"time\">\n>(({ className, ...props }, ref) => {\n  return (\n    <time\n      ref={ref}\n      data-slot=\"timeline-time\"\n      className={cn(\"text-muted-foreground text-xs\", className)}\n      {...props}\n    />\n  )\n})\nTimelineTime.displayName = \"TimelineTime\"\n\n// ============================================\n// Export\n// ============================================\nexport {\n  Timeline,\n  TimelineItem,\n  TimelineMarker,\n  TimelineContent,\n  TimelineSpacer,\n  TimelineTitle,\n  TimelineDescription,\n  TimelineTime,\n}\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}