{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "form-tanstack-select",
  "dependencies": [
    "@tanstack/react-form",
    "zod"
  ],
  "registryDependencies": [
    "field",
    "select",
    "button",
    "card"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/examples/form-tanstack-select.tsx",
      "content": "/* eslint-disable react/no-children-prop */\r\n\"use client\"\r\n\r\nimport { useForm } from \"@tanstack/react-form\"\r\nimport { toast } from \"sonner\"\r\nimport * as z from \"zod\"\r\n\r\nimport { Button } from \"@/registry/new-york-v4/ui/button\"\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardFooter,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"@/registry/new-york-v4/ui/card\"\r\nimport {\r\n  Field,\r\n  FieldContent,\r\n  FieldDescription,\r\n  FieldError,\r\n  FieldGroup,\r\n  FieldLabel,\r\n} from \"@/registry/new-york-v4/ui/field\"\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectSeparator,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/registry/new-york-v4/ui/select\"\r\n\r\nconst spokenLanguages = [\r\n  { label: \"English\", value: \"en\" },\r\n  { label: \"Spanish\", value: \"es\" },\r\n  { label: \"French\", value: \"fr\" },\r\n  { label: \"German\", value: \"de\" },\r\n  { label: \"Italian\", value: \"it\" },\r\n  { label: \"Chinese\", value: \"zh\" },\r\n  { label: \"Japanese\", value: \"ja\" },\r\n] as const\r\n\r\nconst formSchema = z.object({\r\n  language: z\r\n    .string()\r\n    .min(1, \"Please select your spoken language.\")\r\n    .refine((val) => val !== \"auto\", {\r\n      message:\r\n        \"Auto-detection is not allowed. Please select a specific language.\",\r\n    }),\r\n})\r\n\r\nexport default function FormTanstackSelect() {\r\n  const form = useForm({\r\n    defaultValues: {\r\n      language: \"\",\r\n    },\r\n    validators: {\r\n      onSubmit: formSchema,\r\n    },\r\n    onSubmit: async ({ value }) => {\r\n      toast(\"You submitted the following values:\", {\r\n        description: (\r\n          <pre className=\"bg-code text-code-foreground mt-2 w-[320px] overflow-x-auto rounded-md p-4\">\r\n            <code>{JSON.stringify(value, null, 2)}</code>\r\n          </pre>\r\n        ),\r\n        position: \"bottom-right\",\r\n        classNames: {\r\n          content: \"flex flex-col gap-2\",\r\n        },\r\n        style: {\r\n          \"--border-radius\": \"calc(var(--radius)  + 4px)\",\r\n        } as React.CSSProperties,\r\n      })\r\n    },\r\n  })\r\n\r\n  return (\r\n    <Card className=\"w-full sm:max-w-lg\">\r\n      <CardHeader>\r\n        <CardTitle>Language Preferences</CardTitle>\r\n        <CardDescription>\r\n          Select your preferred spoken language.\r\n        </CardDescription>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <form\r\n          id=\"form-tanstack-select\"\r\n          onSubmit={(e) => {\r\n            e.preventDefault()\r\n            form.handleSubmit()\r\n          }}\r\n        >\r\n          <FieldGroup>\r\n            <form.Field\r\n              name=\"language\"\r\n              children={(field) => {\r\n                const isInvalid =\r\n                  field.state.meta.isTouched && !field.state.meta.isValid\r\n                return (\r\n                  <Field orientation=\"responsive\" data-invalid={isInvalid}>\r\n                    <FieldContent>\r\n                      <FieldLabel htmlFor=\"form-tanstack-select-language\">\r\n                        Spoken Language\r\n                      </FieldLabel>\r\n                      <FieldDescription>\r\n                        For best results, select the language you speak.\r\n                      </FieldDescription>\r\n                      {isInvalid && (\r\n                        <FieldError errors={field.state.meta.errors} />\r\n                      )}\r\n                    </FieldContent>\r\n                    <Select\r\n                      name={field.name}\r\n                      value={field.state.value}\r\n                      onValueChange={field.handleChange}\r\n                    >\r\n                      <SelectTrigger\r\n                        id=\"form-tanstack-select-language\"\r\n                        aria-invalid={isInvalid}\r\n                        className=\"min-w-[120px]\"\r\n                      >\r\n                        <SelectValue placeholder=\"Select\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent position=\"item-aligned\">\r\n                        <SelectItem value=\"auto\">Auto</SelectItem>\r\n                        <SelectSeparator />\r\n                        {spokenLanguages.map((language) => (\r\n                          <SelectItem\r\n                            key={language.value}\r\n                            value={language.value}\r\n                          >\r\n                            {language.label}\r\n                          </SelectItem>\r\n                        ))}\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </Field>\r\n                )\r\n              }}\r\n            />\r\n          </FieldGroup>\r\n        </form>\r\n      </CardContent>\r\n      <CardFooter>\r\n        <Field orientation=\"horizontal\">\r\n          <Button type=\"button\" variant=\"outline\" onClick={() => form.reset()}>\r\n            Reset\r\n          </Button>\r\n          <Button type=\"submit\" form=\"form-tanstack-select\">\r\n            Save\r\n          </Button>\r\n        </Field>\r\n      </CardFooter>\r\n    </Card>\r\n  )\r\n}\r\n",
      "type": "registry:example"
    }
  ],
  "type": "registry:example"
}