{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "form-rhf-password",
  "dependencies": [
    "react-hook-form",
    "@hookform/resolvers",
    "zod"
  ],
  "registryDependencies": [
    "field",
    "input-group",
    "progress",
    "button",
    "card"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/examples/form-rhf-password.tsx",
      "content": "\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { zodResolver } from \"@hookform/resolvers/zod\"\r\nimport { CheckIcon } from \"lucide-react\"\r\nimport { Controller, useForm, useWatch } from \"react-hook-form\"\r\nimport { toast } from \"sonner\"\r\nimport * as z from \"zod\"\r\n\r\nimport { Button } from \"@/registry/new-york-v4/ui/button\"\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardFooter,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"@/registry/new-york-v4/ui/card\"\r\nimport {\r\n  Field,\r\n  FieldError,\r\n  FieldGroup,\r\n  FieldLabel,\r\n} from \"@/registry/new-york-v4/ui/field\"\r\nimport {\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  InputGroupInput,\r\n} from \"@/registry/new-york-v4/ui/input-group\"\r\nimport { Progress } from \"@/registry/new-york-v4/ui/progress\"\r\n\r\nconst passwordRequirements = [\r\n  {\r\n    id: \"length\",\r\n    label: \"At least 8 characters\",\r\n    test: (val: string) => val.length >= 8,\r\n  },\r\n  {\r\n    id: \"lowercase\",\r\n    label: \"One lowercase letter\",\r\n    test: (val: string) => /[a-z]/.test(val),\r\n  },\r\n  {\r\n    id: \"uppercase\",\r\n    label: \"One uppercase letter\",\r\n    test: (val: string) => /[A-Z]/.test(val),\r\n  },\r\n  { id: \"number\", label: \"One number\", test: (val: string) => /\\d/.test(val) },\r\n  {\r\n    id: \"special\",\r\n    label: \"One special character\",\r\n    test: (val: string) => /[!@#$%^&*(),.?\":{}|<>]/.test(val),\r\n  },\r\n]\r\n\r\nconst formSchema = z.object({\r\n  password: z\r\n    .string()\r\n    .min(8, \"Password must be at least 8 characters\")\r\n    .refine(\r\n      (val) => /[a-z]/.test(val),\r\n      \"Password must contain at least one lowercase letter\"\r\n    )\r\n    .refine(\r\n      (val) => /[A-Z]/.test(val),\r\n      \"Password must contain at least one uppercase letter\"\r\n    )\r\n    .refine(\r\n      (val) => /\\d/.test(val),\r\n      \"Password must contain at least one number\"\r\n    )\r\n    .refine(\r\n      (val) => /[!@#$%^&*(),.?\":{}|<>]/.test(val),\r\n      \"Password must contain at least one special character\"\r\n    ),\r\n})\r\n\r\nexport default function FormRhfPassword() {\r\n  const form = useForm<z.infer<typeof formSchema>>({\r\n    resolver: zodResolver(formSchema),\r\n    defaultValues: {\r\n      password: \"\",\r\n    },\r\n  })\r\n\r\n  const password = useWatch({\r\n    control: form.control,\r\n    name: \"password\",\r\n  })\r\n\r\n  // Calculate password strength.\r\n  const metRequirements = passwordRequirements.filter((req) =>\r\n    req.test(password || \"\")\r\n  )\r\n  const strengthPercentage =\r\n    (metRequirements.length / passwordRequirements.length) * 100\r\n\r\n  // Determine strength level and color.\r\n  const getStrengthColor = () => {\r\n    if (strengthPercentage === 0) return \"bg-neutral-200\"\r\n    if (strengthPercentage <= 40) return \"bg-red-500\"\r\n    if (strengthPercentage <= 80) return \"bg-yellow-500\"\r\n    return \"bg-green-500\"\r\n  }\r\n\r\n  const allRequirementsMet =\r\n    metRequirements.length === passwordRequirements.length\r\n\r\n  function onSubmit(data: z.infer<typeof formSchema>) {\r\n    toast(\"You submitted the following values:\", {\r\n      description: (\r\n        <pre className=\"bg-code text-code-foreground mt-2 w-[320px] overflow-x-auto rounded-md p-4\">\r\n          <code>{JSON.stringify(data, null, 2)}</code>\r\n        </pre>\r\n      ),\r\n      position: \"bottom-right\",\r\n      classNames: {\r\n        content: \"flex flex-col gap-2\",\r\n      },\r\n      style: {\r\n        \"--border-radius\": \"calc(var(--radius)  + 4px)\",\r\n      } as React.CSSProperties,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Card className=\"w-full sm:max-w-md\">\r\n      <CardHeader className=\"border-b\">\r\n        <CardTitle>Create Password</CardTitle>\r\n        <CardDescription>\r\n          Choose a strong password to secure your account.\r\n        </CardDescription>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <form id=\"form-rhf-password\" onSubmit={form.handleSubmit(onSubmit)}>\r\n          <FieldGroup>\r\n            <Controller\r\n              name=\"password\"\r\n              control={form.control}\r\n              render={({ field, fieldState }) => (\r\n                <Field data-invalid={fieldState.invalid}>\r\n                  <FieldLabel htmlFor=\"form-rhf-password-input\">\r\n                    Password\r\n                  </FieldLabel>\r\n                  <InputGroup>\r\n                    <InputGroupInput\r\n                      {...field}\r\n                      id=\"form-rhf-password-input\"\r\n                      type=\"password\"\r\n                      placeholder=\"Enter your password\"\r\n                      aria-invalid={fieldState.invalid}\r\n                      autoComplete=\"new-password\"\r\n                    />\r\n                    <InputGroupAddon align=\"inline-end\">\r\n                      <CheckIcon\r\n                        className={\r\n                          allRequirementsMet\r\n                            ? \"text-green-500\"\r\n                            : \"text-muted-foreground\"\r\n                        }\r\n                      />\r\n                    </InputGroupAddon>\r\n                  </InputGroup>\r\n\r\n                  {/* Password strength meter. */}\r\n                  <div className=\"space-y-2\">\r\n                    <Progress\r\n                      value={strengthPercentage}\r\n                      className={getStrengthColor()}\r\n                    />\r\n\r\n                    {/* Requirements list. */}\r\n                    <div className=\"space-y-1.5\">\r\n                      {passwordRequirements.map((requirement) => {\r\n                        const isMet = requirement.test(password || \"\")\r\n                        return (\r\n                          <div\r\n                            key={requirement.id}\r\n                            className=\"flex items-center gap-2 text-sm\"\r\n                          >\r\n                            <CheckIcon\r\n                              className={\r\n                                isMet\r\n                                  ? \"size-4 text-green-500\"\r\n                                  : \"text-muted-foreground size-4\"\r\n                              }\r\n                            />\r\n                            <span\r\n                              className={\r\n                                isMet\r\n                                  ? \"text-foreground\"\r\n                                  : \"text-muted-foreground\"\r\n                              }\r\n                            >\r\n                              {requirement.label}\r\n                            </span>\r\n                          </div>\r\n                        )\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {fieldState.invalid && (\r\n                    <FieldError errors={[fieldState.error]} />\r\n                  )}\r\n                </Field>\r\n              )}\r\n            />\r\n          </FieldGroup>\r\n        </form>\r\n      </CardContent>\r\n      <CardFooter className=\"border-t\">\r\n        <Field>\r\n          <Button type=\"submit\" form=\"form-rhf-password\">\r\n            Create Password\r\n          </Button>\r\n          <Button type=\"button\" variant=\"outline\" onClick={() => form.reset()}>\r\n            Reset\r\n          </Button>\r\n        </Field>\r\n      </CardFooter>\r\n    </Card>\r\n  )\r\n}\r\n",
      "type": "registry:example"
    }
  ],
  "type": "registry:example"
}