{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "form-rhf-complex",
  "dependencies": [
    "react-hook-form",
    "@hookform/resolvers",
    "zod"
  ],
  "registryDependencies": [
    "field",
    "button",
    "card",
    "checkbox",
    "radio-group",
    "select",
    "switch"
  ],
  "files": [
    {
      "path": "registry/new-york-v4/examples/form-rhf-complex.tsx",
      "content": "\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { zodResolver } from \"@hookform/resolvers/zod\"\r\nimport { Controller, useForm } from \"react-hook-form\"\r\nimport { toast } from \"sonner\"\r\nimport * as z from \"zod\"\r\n\r\nimport { Button } from \"@/registry/new-york-v4/ui/button\"\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardFooter,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"@/registry/new-york-v4/ui/card\"\r\nimport { Checkbox } from \"@/registry/new-york-v4/ui/checkbox\"\r\nimport {\r\n  Field,\r\n  FieldContent,\r\n  FieldDescription,\r\n  FieldError,\r\n  FieldGroup,\r\n  FieldLabel,\r\n  FieldLegend,\r\n  FieldSeparator,\r\n  FieldSet,\r\n  FieldTitle,\r\n} from \"@/registry/new-york-v4/ui/field\"\r\nimport {\r\n  RadioGroup,\r\n  RadioGroupItem,\r\n} from \"@/registry/new-york-v4/ui/radio-group\"\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/registry/new-york-v4/ui/select\"\r\nimport { Switch } from \"@/registry/new-york-v4/ui/switch\"\r\n\r\nconst addons = [\r\n  {\r\n    id: \"analytics\",\r\n    title: \"Analytics\",\r\n    description: \"Advanced analytics and reporting\",\r\n  },\r\n  {\r\n    id: \"backup\",\r\n    title: \"Backup\",\r\n    description: \"Automated daily backups\",\r\n  },\r\n  {\r\n    id: \"support\",\r\n    title: \"Priority Support\",\r\n    description: \"24/7 premium customer support\",\r\n  },\r\n] as const\r\n\r\nconst formSchema = z.object({\r\n  plan: z\r\n    .string({\r\n      required_error: \"Please select a subscription plan\",\r\n    })\r\n    .min(1, \"Please select a subscription plan\")\r\n    .refine((value) => value === \"basic\" || value === \"pro\", {\r\n      message: \"Invalid plan selection. Please choose Basic or Pro\",\r\n    }),\r\n  billingPeriod: z\r\n    .string({\r\n      required_error: \"Please select a billing period\",\r\n    })\r\n    .min(1, \"Please select a billing period\"),\r\n  addons: z\r\n    .array(z.string())\r\n    .min(1, \"Please select at least one add-on\")\r\n    .max(3, \"You can select up to 3 add-ons\")\r\n    .refine(\r\n      (value) => value.every((addon) => addons.some((a) => a.id === addon)),\r\n      {\r\n        message: \"You selected an invalid add-on\",\r\n      }\r\n    ),\r\n  emailNotifications: z.boolean(),\r\n})\r\n\r\nexport default function FormRhfComplex() {\r\n  const form = useForm<z.infer<typeof formSchema>>({\r\n    resolver: zodResolver(formSchema),\r\n    defaultValues: {\r\n      plan: \"basic\",\r\n      billingPeriod: \"\",\r\n      addons: [],\r\n      emailNotifications: false,\r\n    },\r\n  })\r\n\r\n  function onSubmit(data: z.infer<typeof formSchema>) {\r\n    toast(\"You submitted the following values:\", {\r\n      description: (\r\n        <pre className=\"bg-code text-code-foreground mt-2 w-[320px] overflow-x-auto rounded-md p-4\">\r\n          <code>{JSON.stringify(data, null, 2)}</code>\r\n        </pre>\r\n      ),\r\n      position: \"bottom-right\",\r\n      classNames: {\r\n        content: \"flex flex-col gap-2\",\r\n      },\r\n      style: {\r\n        \"--border-radius\": \"calc(var(--radius)  + 4px)\",\r\n      } as React.CSSProperties,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Card className=\"w-full max-w-sm\">\r\n      <CardHeader className=\"border-b\">\r\n        <CardTitle>You&apos;re almost there!</CardTitle>\r\n        <CardDescription>\r\n          Choose your subscription plan and billing period.\r\n        </CardDescription>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <form id=\"form-rhf-complex\" onSubmit={form.handleSubmit(onSubmit)}>\r\n          <FieldGroup>\r\n            <Controller\r\n              name=\"plan\"\r\n              control={form.control}\r\n              render={({ field, fieldState }) => {\r\n                const isInvalid = fieldState.invalid\r\n                return (\r\n                  <FieldSet data-invalid={isInvalid}>\r\n                    <FieldLegend variant=\"label\">Subscription Plan</FieldLegend>\r\n                    <FieldDescription>\r\n                      Choose your subscription plan.\r\n                    </FieldDescription>\r\n                    <RadioGroup\r\n                      name={field.name}\r\n                      value={field.value}\r\n                      onValueChange={field.onChange}\r\n                      aria-invalid={isInvalid}\r\n                    >\r\n                      <FieldLabel htmlFor=\"form-rhf-complex-basic\">\r\n                        <Field orientation=\"horizontal\">\r\n                          <FieldContent>\r\n                            <FieldTitle>Basic</FieldTitle>\r\n                            <FieldDescription>\r\n                              For individuals and small teams\r\n                            </FieldDescription>\r\n                          </FieldContent>\r\n                          <RadioGroupItem\r\n                            value=\"basic\"\r\n                            id=\"form-rhf-complex-basic\"\r\n                          />\r\n                        </Field>\r\n                      </FieldLabel>\r\n                      <FieldLabel htmlFor=\"form-rhf-complex-pro\">\r\n                        <Field orientation=\"horizontal\">\r\n                          <FieldContent>\r\n                            <FieldTitle>Pro</FieldTitle>\r\n                            <FieldDescription>\r\n                              For businesses with higher demands\r\n                            </FieldDescription>\r\n                          </FieldContent>\r\n                          <RadioGroupItem\r\n                            value=\"pro\"\r\n                            id=\"form-rhf-complex-pro\"\r\n                          />\r\n                        </Field>\r\n                      </FieldLabel>\r\n                    </RadioGroup>\r\n                    {isInvalid && <FieldError errors={[fieldState.error]} />}\r\n                  </FieldSet>\r\n                )\r\n              }}\r\n            />\r\n            <FieldSeparator />\r\n            <Controller\r\n              name=\"billingPeriod\"\r\n              control={form.control}\r\n              render={({ field, fieldState }) => (\r\n                <Field data-invalid={fieldState.invalid}>\r\n                  <FieldLabel htmlFor=\"form-rhf-complex-billingPeriod\">\r\n                    Billing Period\r\n                  </FieldLabel>\r\n                  <Select\r\n                    name={field.name}\r\n                    value={field.value}\r\n                    onValueChange={field.onChange}\r\n                  >\r\n                    <SelectTrigger\r\n                      id=\"form-rhf-complex-billingPeriod\"\r\n                      aria-invalid={fieldState.invalid}\r\n                    >\r\n                      <SelectValue placeholder=\"Select\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"monthly\">Monthly</SelectItem>\r\n                      <SelectItem value=\"yearly\">Yearly</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                  <FieldDescription>\r\n                    Choose how often you want to be billed.\r\n                  </FieldDescription>\r\n                  {fieldState.invalid && (\r\n                    <FieldError errors={[fieldState.error]} />\r\n                  )}\r\n                </Field>\r\n              )}\r\n            />\r\n            <FieldSeparator />\r\n            <Controller\r\n              name=\"addons\"\r\n              control={form.control}\r\n              render={({ field, fieldState }) => (\r\n                <FieldSet>\r\n                  <FieldLegend>Add-ons</FieldLegend>\r\n                  <FieldDescription>\r\n                    Select additional features you&apos;d like to include.\r\n                  </FieldDescription>\r\n                  <FieldGroup data-slot=\"checkbox-group\">\r\n                    {addons.map((addon) => (\r\n                      <Field\r\n                        key={addon.id}\r\n                        orientation=\"horizontal\"\r\n                        data-invalid={fieldState.invalid}\r\n                      >\r\n                        <Checkbox\r\n                          id={`form-rhf-complex-${addon.id}`}\r\n                          name={field.name}\r\n                          aria-invalid={fieldState.invalid}\r\n                          checked={field.value.includes(addon.id)}\r\n                          onCheckedChange={(checked) => {\r\n                            const newValue = checked\r\n                              ? [...field.value, addon.id]\r\n                              : field.value.filter(\r\n                                  (value) => value !== addon.id\r\n                                )\r\n                            field.onChange(newValue)\r\n                            field.onBlur()\r\n                          }}\r\n                        />\r\n                        <FieldContent>\r\n                          <FieldLabel htmlFor={`form-rhf-complex-${addon.id}`}>\r\n                            {addon.title}\r\n                          </FieldLabel>\r\n                          <FieldDescription>\r\n                            {addon.description}\r\n                          </FieldDescription>\r\n                        </FieldContent>\r\n                      </Field>\r\n                    ))}\r\n                  </FieldGroup>\r\n                  {fieldState.invalid && (\r\n                    <FieldError errors={[fieldState.error]} />\r\n                  )}\r\n                </FieldSet>\r\n              )}\r\n            />\r\n            <FieldSeparator />\r\n            <Controller\r\n              name=\"emailNotifications\"\r\n              control={form.control}\r\n              render={({ field, fieldState }) => (\r\n                <Field\r\n                  orientation=\"horizontal\"\r\n                  data-invalid={fieldState.invalid}\r\n                >\r\n                  <FieldContent>\r\n                    <FieldLabel htmlFor=\"form-rhf-complex-emailNotifications\">\r\n                      Email Notifications\r\n                    </FieldLabel>\r\n                    <FieldDescription>\r\n                      Receive email updates about your subscription\r\n                    </FieldDescription>\r\n                  </FieldContent>\r\n                  <Switch\r\n                    id=\"form-rhf-complex-emailNotifications\"\r\n                    name={field.name}\r\n                    checked={field.value}\r\n                    onCheckedChange={field.onChange}\r\n                    aria-invalid={fieldState.invalid}\r\n                  />\r\n                  {fieldState.invalid && (\r\n                    <FieldError errors={[fieldState.error]} />\r\n                  )}\r\n                </Field>\r\n              )}\r\n            />\r\n          </FieldGroup>\r\n        </form>\r\n      </CardContent>\r\n      <CardFooter className=\"border-t\">\r\n        <Field>\r\n          <Button type=\"submit\" form=\"form-rhf-complex\">\r\n            Save Preferences\r\n          </Button>\r\n          <Button type=\"button\" variant=\"outline\" onClick={() => form.reset()}>\r\n            Reset\r\n          </Button>\r\n        </Field>\r\n      </CardFooter>\r\n    </Card>\r\n  )\r\n}\r\n",
      "type": "registry:example"
    }
  ],
  "type": "registry:example"
}